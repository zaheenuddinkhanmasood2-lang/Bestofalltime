<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google Tag Manager -->
    <script>(function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-NDD6F2PQ');</script>
    <!-- End Google Tag Manager -->

    <!-- Vercel Speed Insights -->
    <script type="module" src="speed-insights.js"></script>

    <!-- Clarity tracking code for https://sharedstudy.vercel.app/ -->
    <script>
    try {
        (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i+"?ref=bwt";
        t.onerror=function(){console.debug('Clarity tracking script failed to load');};
        y=l.getElementsByTagName(r)[0];
        if(y&&y.parentNode){y.parentNode.insertBefore(t,y);}
        })(window, document, "clarity", "script", "ua59wimvoi");
    } catch(error) {
        console.debug('Clarity tracking initialization failed:', error);
    }
    </script>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VDZ8N94TCB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VDZ8N94TCB');
</script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Browse Notes - SharedStudy | StudyShare Platform for Notes, Past Papers and Study Materials</title>

    <!-- SEO Meta Tags -->
    <meta name="description"
        content="Browse and discover thousands of study notes on SharedStudy - the ultimate study exchange platform. Share study, exchange academic materials, and access premium notes through our Studyshare community. Find Gomal University notes, GU paper, and Gomal University past papers. Find notes by subject and collaborate with students worldwide.">
    <meta name="keywords"
        content="shared study, studyshare, share study, browse study notes, study notes sharing, academic notes exchange, student notes sharing, study materials sharing, notes sharing platform, study resources exchange,study notes platform, browse notes, study materials, academic resources, student notes, learning platform, education, notes search">
    <meta name="author" content="SharedStudy">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">

    <!-- Open Graph Meta Tags -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Browse Notes - SharedStudy">
    <meta property="og:description"
        content="Browse and discover thousands of study notes on SharedStudy - the ultimate study exchange platform. Share study, exchange academic materials, and access premium notes through our Studyshare community. Find Gomal University notes, GU paper, and Gomal University past papers.">
    <meta property="og:url" content="https://sharedstudy.vercel.app/browse.html">
    <meta property="og:site_name" content="SharedStudy">
    <meta property="og:image" content="https://sharedstudy.vercel.app/browse-og-image.jpg">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Browse Notes - SharedStudy">
    <meta name="twitter:description"
        content="Browse and discover thousands of study notes, academic resources, and learning materials.">
    <meta name="twitter:image" content="https://sharedstudy.vercel.app/browse-twitter-card.jpg">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://sharedstudy.vercel.app/browse.html">

    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">

                            <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="icon" type="image/png" sizes="512x512" href="favicon-512.png">
    <link rel="icon" type="image/png" sizes="192x192" href="favicon-192.png">
    <link rel="apple-touch-icon" sizes="180x180" href="favicon-192.png">
    <link rel="icon" type="image/png" sizes="64x64" href="favicon-64.png">
    <link rel="icon" type="image/png" sizes="48x48" href="favicon-48.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16.png">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">

<!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com" onerror="console.warn('Tailwind CDN failed to load, using fallback styles'); this.onerror=null;"></script>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Enhanced search bar styling */
        #q:focus {
            transform: translateY(-1px);
            box-shadow: 0 10px 25px rgba(147, 51, 234, 0.3);
        }

        #q::placeholder {
            color: #6b7280;
            font-weight: 500;
        }

        .search-feature-tag {
            transition: all 0.3s ease;
        }

        .search-feature-tag:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* Animated search icon */
        .fa-brain {
            animation: brain-pulse 2s infinite;
        }

        @keyframes brain-pulse {

            0%,
            100% {
                opacity: 1;
                transform: scale(1);
            }

            50% {
                opacity: 0.7;
                transform: scale(1.1);
            }
        }

        /* Search status animation */
        .search-status-enter {
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body class="font-inter bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 min-h-screen overflow-x-hidden">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NDD6F2PQ" height="0" width="0"
            style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <nav class="fixed top-0 left-0 right-0 z-50 transition-all duration-300" id="navbar">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <!-- Back Arrow Button -->
                <button onclick="window.history.back();" class="back-arrow-btn mr-2" aria-label="Go back"
                    title="Go back">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <a href="index.html" class="flex items-center space-x-3">
                    <div
                        class="w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg">
                        <i class="fas fa-graduation-cap text-white text-lg"></i>
                    </div>
                    <span
                        class="text-xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent">SharedStudy</span>
                </a>
                <!-- Mobile Hamburger Menu Button -->
                <button id="mobile-menu-button" aria-label="Toggle mobile menu" aria-expanded="false">
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                </button>

                <!-- Desktop Navigation -->
                <div class="hidden lg:flex items-center space-x-3">
                    <a href="profile.html" id="profileLink"
                        class="text-gray-300 hover:text-white transition-colors duration-200 font-medium hidden px-3 py-2 rounded-lg hover:bg-white/5">
                        Profile
                    </a>
                    <a href="upload.html"
                        class="glass-button px-4 sm:px-6 py-2 rounded-full border border-white/20 text-white font-semibold hover:bg-white/10 transition-all duration-300 transform hover:scale-105 whitespace-nowrap">
                        <i class="fas fa-upload mr-2"></i><span class="hidden sm:inline">Upload Notes</span><span
                            class="sm:hidden">Upload</span>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu Overlay -->
    <div id="mobile-menu-overlay"></div>

    <!-- Mobile Menu Panel -->
    <div id="mobile-menu-panel">
        <div class="mobile-menu-header">
            <div class="mobile-menu-title">Menu</div>
            <button class="mobile-menu-close" aria-label="Close menu" id="mobile-menu-close">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="mobile-menu-content">
            <a href="index.html" class="mobile-menu-item" onclick="closeMobileMenu()">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </a>
            <a href="browse.html" class="mobile-menu-item" onclick="closeMobileMenu()">
                <i class="fas fa-book"></i>
                <span>Notes</span>
            </a>
            <a href="upload.html" class="mobile-menu-item" id="mobileUploadLink" onclick="closeMobileMenu()">
                <i class="fas fa-upload"></i>
                <span>Upload Notes</span>
            </a>
            <a href="past-papers/past-papers.html" class="mobile-menu-item" onclick="closeMobileMenu()">
                <i class="fas fa-file-alt"></i>
                <span>Past Papers</span>
            </a>
            <a href="about.html" class="mobile-menu-item" onclick="closeMobileMenu()">
                <i class="fas fa-info-circle"></i>
                <span>About</span>
            </a>
            <div class="mobile-menu-divider"></div>
            <a href="profile.html" class="mobile-menu-item hidden-by-default" id="mobileProfileLink" onclick="closeMobileMenu()">
                <i class="fas fa-user"></i>
                <span>Profile</span>
            </a>
            <a href="login.html" class="mobile-menu-item" id="mobileLoginLink" onclick="closeMobileMenu()">
                <i class="fas fa-sign-in-alt"></i>
                <span>Login</span>
            </a>
            <a href="signup.html" class="mobile-menu-item" onclick="closeMobileMenu()">
                <i class="fas fa-user-plus"></i>
                <span>Sign Up</span>
            </a>
        </div>
    </div>

    <main class="pt-20 px-4">
        <div class="max-w-6xl mx-auto">
            <div class="glass-card p-6 rounded-2xl shadow-2xl">
                <h1 class="text-3xl font-bold text-white mb-4">Browse Notes</h1>
                <p class="text-gray-300 mb-4">Discover Gomal University notes, GU paper, and Gomal University past papers along with thousands of other study materials.</p>
                <div class="flex flex-col sm:flex-row gap-3 mb-4">
                    <div class="flex-1 relative">
                        <input id="q" placeholder="Search by title, subject, or uploader..."
                            class="w-full px-4 py-3 rounded-xl bg-white/95 backdrop-blur-sm border-2 border-purple-300/50 text-gray-800 placeholder-gray-600 pr-12 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-300 shadow-lg">
                        <div class="absolute right-3 top-1/2 transform -translate-y-1/2">
                            <i class="fas fa-search text-purple-600 text-lg" title="Simple Search"></i>
                        </div>
                    </div>
                    <select id="subjectFilter" aria-label="Filter by subject"
                        class="px-4 py-3 rounded-xl bg-white/95 backdrop-blur-sm border-2 border-purple-300/50 text-gray-800 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-300 shadow-lg">
                        <option value="" class="text-gray-800">All subjects</option>
                        <option value="Mathematics" class="text-gray-800">Mathematics</option>
                        <option value="Physics" class="text-gray-800">Physics</option>
                        <option value="Chemistry" class="text-gray-800">Chemistry</option>
                        <option value="Biology" class="text-gray-800">Biology</option>
                        <option value="Computer Science" class="text-gray-800">Computer Science</option>
                        <option value="English" class="text-gray-800">English</option>
                    </select>
                </div>

                <!-- Simple Search Info -->
                <div
                    class="mb-4 p-3 bg-gradient-to-r from-purple-500/10 to-pink-500/10 rounded-xl border border-purple-300/30">
                    <div class="flex items-center space-x-2 text-sm text-purple-200">
                        <i class="fas fa-info-circle text-purple-400"></i>
                        <span class="font-semibold">Search by:</span>
                    </div>
                    <div class="mt-2 text-xs text-gray-300 space-y-1">
                        <div class="flex flex-wrap gap-2">
                            <span class="search-feature-tag px-2 py-1 bg-purple-500/20 rounded-full">Title</span>
                            <span class="search-feature-tag px-2 py-1 bg-blue-500/20 rounded-full">Subject</span>
                            <span class="search-feature-tag px-2 py-1 bg-green-500/20 rounded-full">Uploader
                                Email</span>
                        </div>
                    </div>
                </div>


                <!-- Search Status Indicator -->
                <div id="searchStatus"
                    class="hidden mb-4 p-3 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-xl border border-blue-300/30">
                    <div class="flex items-center space-x-2 text-sm text-blue-200">
                        <i class="fas fa-search text-blue-400 animate-spin"></i>
                        <span class="font-semibold">Searching...</span>
                    </div>
                </div>

                <div id="grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"></div>
                <div id="empty" class="text-gray-300 hidden">No notes found.</div>
            </div>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="supabaseClient.js"></script>
    <script src="browse.js"></script>
    <script src="back-navigation.js"></script>
    <script>
        // Session-aware mobile icon navigation
        (async () => {
            try {
                const supabase = window.getSupabaseClient();
                const { data: { session } } = await supabase.auth.getSession();

                const mobileProfileIcon = document.getElementById('mobileProfileIcon');
                const mobileLoginIcon = document.getElementById('mobileLoginIcon');

                if (session && session.user) {
                    // User is logged in - show Profile, hide Login
                    if (mobileProfileIcon) mobileProfileIcon.style.display = 'flex';
                    if (mobileLoginIcon) mobileLoginIcon.style.display = 'none';
                } else {
                    // User is not logged in - show Login, hide Profile
                    if (mobileProfileIcon) mobileProfileIcon.style.display = 'none';
                    if (mobileLoginIcon) mobileLoginIcon.style.display = 'flex';
                }
            } catch { }
        })();
    </script>
</body>

</html>